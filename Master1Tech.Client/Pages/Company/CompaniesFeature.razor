@page "/companiesfeature"
@using Master1Tech.Models
@using Master1Tech.Services
@inject ICompanyService CompanyService
@inject IJSRuntime JSRuntime

<div class="tab-system-container">
    <div class="tab-headers">
        @foreach (var tab in Tabs)
        {
            <button class="tab-header-button @(ActiveTab == tab ? "active" : "")"
                    @onclick="() => SetActiveTab(tab)">
                @tab.Title
            </button>
        }
    </div>

    <div class="tab-content">
        @if (ActiveTab != null)
        {
            @ActiveTab.Content
        }
        else
        {
            <p>Select a tab to view content.</p>
        }
    </div>
</div>

@code {
    [Parameter]
    public List<TabItem> Tabs { get; set; } = new List<TabItem>();

    private TabItem? ActiveTab { get; set; }

    protected override void OnInitialized()
    {
        // Define tabs with embedded content
        Tabs = new List<TabItem>
        {
            new TabItem
            {
                Title = "Locations",
                Content = @<div class="tab-section-content">
        <h3>Our Locations</h3>
        <div class="location-card">
            <h4>Headquarters</h4>
            <p>K-3, Sector B-2, North Ring Road, Multan, Pakistan</p>
            <p>Postcode: 75060</p>
            <p>Phone: +92 300 1234567</p>
        </div>
        <div class="location-card">
            <h4>Branch Office (USA)</h4>
            <p>P.O. Box 51193, Modesto, CA 95355</p>
            <p>Phone: +1 209 213-1143</p>
        </div>
        <div class="map-placeholder">
            <img src="https://placehold.co/600x300/e0e0e0/333333?text=Map+Placeholder" alt="Map" style="width:100%; height:auto; border-radius: 8px;" />
            <p class="map-caption">Map showing our headquarters location.</p>
        </div>
    </div>
            },
            new TabItem
            {
                Title = "Speciality",
                Content = @<div class="tab-section-content">
        <h3>Our Specialities</h3>
        <div class="speciality-grid">
            <div class="speciality-list-container">
                <h4>Service Speciality List</h4>
                <ul class="speciality-list">
                    <li>Web Development</li>
                    <li>BI & Big Data Consulting</li>
                    <li>Content Marketing</li>
                    <li>Graphic Design</li>
                    <li>UI/UX Design</li>
                    <li>Mobile App Development</li>
                    <li>SEO</li>
                    <li>Blockchain</li>
                    <li>CRM Consulting</li>
                </ul>
            </div>
            <div class="main-services-focus">
                <h4>Main Services Focus</h4>
                <img src="https://placehold.co/300x300/d0e0ff/0056b3?text=Chart+Placeholder" alt="Services Chart" style="width:100%; max-width:300px; height:auto; border-radius: 50%; display: block; margin: 0 auto;" />
            </div>
        </div>

        <h4 class="section-sub-title">Focuses & Technologies</h4>
        <div class="tech-tags">
            <span class="tech-tag">Android</span>
            <span class="tech-tag">iOS</span>
            <span class="tech-tag">Big Commerce</span>
            <span class="tech-tag">Shopify</span>
            <span class="tech-tag">WooCommerce</span>
            <span class="tech-tag">Salesforce</span>
            <span class="tech-tag">Microsoft BI & data solutions</span>
            <span class="tech-tag">Operations & process improvement</span>
            <span class="tech-tag">Marketing analytics</span>
            <span class="tech-tag">Business Intel</span>
            <span class="tech-tag">Other app platforms</span>
            <span class="tech-tag">eCommerce</span>
            <span class="tech-tag">Education</span>
            <span class="tech-tag">Health & wellness</span>
            <span class="tech-tag">Publishing & digital content</span>
            <span class="tech-tag">Travel & lifestyle</span>
            <span class="tech-tag">Other programming & compiling languages</span>
            <span class="tech-tag">PHP</span>
            <span class="tech-tag">Windows server</span>
            <span class="tech-tag">Customer</span>
            <span class="tech-tag">KubeFlow.com</span>
            <span class="tech-tag">HelpSpot</span>
            <span class="tech-tag">Tableau</span>
            <span class="tech-tag">Google Apis</span>
            <span class="tech-tag">Amazon</span>
            <span class="tech-tag">Typecript</span>
            <span class="tech-tag">C#</span>
            <span class="tech-tag">Java</span>
            <span class="tech-tag">JavaScript</span>
            <span class="tech-tag">View All</span>
        </div>

        <h4 class="section-sub-title">Client Focus</h4>
        <div class="client-focus-item">
            <p>45% - Mid-market ($1M - $10M)</p>
            <div class="progress-bar-container"><div class="progress-bar" style="width: 45%;"></div></div>
        </div>
        <div class="client-focus-item">
            <p>32% - Small Business ($500K - $1M)</p>
            <div class="progress-bar-container"><div class="progress-bar" style="width: 32%;"></div></div>
        </div>
        <div class="client-focus-item">
            <p>23% - Grand partnership ($200K - $500K)</p>
            <div class="progress-bar-container"><div class="progress-bar" style="width: 23%;"></div></div>
        </div>

        <h4 class="section-sub-title">Industry Focus</h4>
        <div class="industry-item">
            <p>Retail</p>
            <div class="industry-bar-container"><div class="industry-bar" style="width: 8%;">8%</div></div>
        </div>
        <div class="industry-item">
            <p>Information Technology</p>
            <div class="industry-bar-container"><div class="industry-bar" style="width: 29%;">29%</div></div>
        </div>
        <div class="industry-item">
            <p>eCommerce</p>
            <div class="industry-bar-container"><div class="industry-bar" style="width: 16%;">16%</div></div>
        </div>
        <div class="industry-item">
            <p>Real estate</p>
            <div class="industry-bar-container"><div class="industry-bar" style="width: 15%;">15%</div></div>
        </div>
        <div class="industry-item">
            <p>Education</p>
            <div class="industry-bar-container"><div class="industry-bar" style="width: 12%;">12%</div></div>
        </div>
        <div class="industry-item">
            <p>Other Industries</p>
            <div class="industry-bar-container"><div class="industry-bar" style="width: 10%;">10%</div></div>
        </div>
        <div class="industry-item">
            <p>Health Care & Medical</p>
            <div class="industry-bar-container"><div class="industry-bar" style="width: 10%;">10%</div></div>
        </div>
    </div>
            },
            new TabItem
            {
                Title = "About",
                Content = @<div class="tab-section-content">
        <h3>General Information</h3>
        <p>This is a placeholder for other content, such as a company overview, client testimonials, or contact information.</p>
        <p>You can add any Blazor components or HTML here.</p>
    </div>
            },
            new TabItem
            {
                Title = "Portfolio",
                Content = @<div class="tab-section-content">
        <h3>Our Portfolio</h3>
        <p>Showcasing our past projects and success stories.</p>
        <ul>
            <li>Project Alpha - Web Application</li>
            <li>Project Beta - Mobile App</li>
            <li>Project Gamma - E-commerce Solution</li>
        </ul>
    </div>
            },
            new TabItem
            {
                Title = "Reviews",
                Content = @<div class="tab-section-content">
        <h3>Client Reviews</h3>
        <p>"Excellent service and highly professional team!" - Satisfied Client A</p>
        <p>"They delivered beyond our expectations." - Happy Client B</p>
    </div>
            },
            new TabItem
            {
                Title = "Contact",
                Content = @<div class="tab-section-content">
        <h3>Contact Us</h3>
        <p>Email: info@example.com</p>
        <p>Phone: +1 (123) 456-7890</p>
        <p>Address: 123 Business Rd, Suite 100, City, Country</p>
    </div>
            }
        };

        // Set the first tab as active by default
        ActiveTab = Tabs.FirstOrDefault();
    }

    private void SetActiveTab(TabItem tab)
    {
        ActiveTab = tab;
    }

    public class TabItem
    {
        public string Title { get; set; } = string.Empty;
        public RenderFragment? Content { get; set; }
    }
}

<style>
    .tab-system-container {
        font-family: 'Inter', sans-serif;
        max-width: 900px;
        margin: 20px auto;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        overflow: hidden; /* Ensures rounded corners apply correctly */
    }

    .tab-headers {
        display: flex;
        justify-content: flex-start; /* Align tabs to the left */
        border-bottom: 1px solid #e0e0e0;
        background-color: #f8f8f8;
        padding: 0 10px;
    }

    .tab-header-button {
        background-color: transparent;
        border: none;
        padding: 15px 25px;
        cursor: pointer;
        font-size: 1em;
        font-weight: 500;
        color: #555;
        transition: color 0.3s ease, border-bottom 0.3s ease;
        border-bottom: 3px solid transparent; /* For active indicator */
        outline: none;
    }

        .tab-header-button:hover {
            color: #007bff;
        }

        .tab-header-button.active {
            color: #007bff;
            border-bottom: 3px solid #007bff;
            background-color: #ffffff; /* Slightly different background for active tab */
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
        }

    .tab-content {
        padding: 20px;
        background-color: #ffffff;
        min-height: 300px; /* Ensure some height for content */
    }

    /* Styles for embedded content */
    .tab-section-content {
        padding: 15px;
        background-color: #f9f9f9;
        border-radius: 8px;
    }

    .location-card {
        background-color: #fff;
        border: 1px solid #eee;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.02);
    }

        .location-card h4 {
            margin-top: 0;
            color: #007bff;
        }

    .map-placeholder {
        margin-top: 20px;
        text-align: center;
    }

    .map-caption {
        font-size: 0.85em;
        color: #777;
        margin-top: 10px;
    }

    .speciality-grid {
        display: flex;
        gap: 20px;
        margin-bottom: 30px;
        flex-wrap: wrap; /* Allow wrapping on smaller screens */
    }

    .speciality-list-container, .main-services-focus {
        flex: 1;
        min-width: 280px; /* Minimum width before wrapping */
        background-color: #fff;
        border: 1px solid #eee;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.02);
    }

    .speciality-list {
        list-style: none;
        padding: 0;
    }

        .speciality-list li {
            padding: 8px 0;
            border-bottom: 1px dashed #eee;
            color: #555;
        }

            .speciality-list li:last-child {
                border-bottom: none;
            }

    .main-services-focus {
        text-align: center;
    }

    .section-sub-title {
        font-size: 1.2em;
        color: #222;
        margin-top: 30px;
        margin-bottom: 15px;
        border-bottom: 1px solid #eee;
        padding-bottom: 8px;
    }

    .tech-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 30px;
    }

    .tech-tag {
        background-color: #e0f2f7; /* Light blue tag background */
        color: #007bff;
        padding: 8px 12px;
        border-radius: 20px;
        font-size: 0.85em;
        white-space: nowrap; /* Prevent tags from breaking */
    }

    .client-focus-item, .industry-item {
        margin-bottom: 15px;
    }

        .client-focus-item p, .industry-item p {
            margin-bottom: 5px;
            font-size: 0.95em;
            color: #444;
        }

    .progress-bar-container, .industry-bar-container {
        background-color: #e9ecef;
        border-radius: 5px;
        overflow: hidden;
        height: 20px;
        margin-top: 5px;
    }

    .progress-bar {
        height: 100%;
        background-color: #007bff;
        border-radius: 5px;
        transition: width 0.5s ease-in-out;
    }

    .industry-bar {
        height: 100%;
        background-color: #28a745; /* Green for industry bars */
        border-radius: 5px;
        display: flex;
        align-items: center;
        padding-left: 10px;
        color: #fff;
        font-weight: bold;
        font-size: 0.85em;
        transition: width 0.5s ease-in-out;
    }

    /* Responsive adjustments */
    @@media (max-width: 768px) {
        .tab-headers {
            flex-wrap: wrap;
            justify-content: center;
            padding: 5px;
        }

        .tab-header-button {
            flex-grow: 1;
            padding: 10px 15px;
            font-size: 0.9em;
        }
    }

    @@media (max-width: 480px) {
        .tab-header-button {
            padding: 8px 10px;
            font-size: 0.85em;
        }
    }
</style>
